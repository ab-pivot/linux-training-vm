#!/bin/bash
set -ex

add-apt-repository ppa:neovim-ppa/unstable
apt-get update

apt-get install -y \
         \
        neovim \
        golang \
        git \
        tldr \
        python-dev \
        python-pip \
        python3-dev \
        python3-pip \
        build-essential \
         \
        gcc \
        libacl1-dev \
        libcap-dev \
        libcap-ng-utils \
        libseccomp-dev \
        libselinux1-dev \
        make \
        util-linux

pip3 --version
pip3 install neovim

#curl vimfiles.luan.sh/install | bash
if [ ! -d "/home/vagrant/vimfiles" ] ; then
  git clone https://github.com/luan/vimfiles.git /home/vagrant/vimfiles
  pushd /home/vagrant/vimfiles
    ./bin/install --non-interactive
  popd
fi

export GOPATH=/workspace/go/
sed -i 's/GRUB_TIMEOUT=0/GRUB_TIMEOUT=10/g' /etc/default/grub

